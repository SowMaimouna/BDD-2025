(this["webpackJsonpbdd-2025"]=this["webpackJsonpbdd-2025"]||[]).push([[0],{15:function(e,t,a){e.exports=a(27)},22:function(e,t,a){},27:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),r=a(14),c=a.n(r),s=(a(22),a(5)),m=a(3),o=a(28);var d=function(){const[e,t]=Object(n.useState)(1),[a,r]=Object(n.useState)(""),[c,s]=Object(n.useState)(null),[m,d]=Object(n.useState)(""),[u,i]=Object(n.useState)({email:"",telephone:"",parti:"",slogan:"",photo:"",couleur1:"",couleur2:"",couleur3:"",urlInfo:""});return l.a.createElement("div",null,1===e&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"V\xe9rification de l'\xe9lecteur"),l.a.createElement("input",{type:"text",placeholder:"Num\xe9ro de carte",value:a,onChange:e=>r(e.target.value)}),l.a.createElement("button",{onClick:async()=>{try{d("");const e=await o.a.get("http://localhost:5000/api/electeurs/check?num="+a);s(e.data),t(2)}catch(l){var e,n;d((null===(e=l.response)||void 0===e||null===(n=e.data)||void 0===n?void 0:n.message)||"Erreur serveur")}}},"V\xe9rifier"),m&&l.a.createElement("p",{style:{color:"red"}},m)),2===e&&c&&l.a.createElement(l.a.Fragment,null,l.a.createElement("h2",null,"Informations de l'\xe9lecteur"),l.a.createElement("p",null,"Nom : ",c.nom),l.a.createElement("p",null,"Pr\xe9nom : ",c.prenom),l.a.createElement("p",null,"Date de Naissance : ",c.date_naissance),l.a.createElement("h2",null,"Informations suppl\xe9mentaires"),l.a.createElement("input",{type:"email",placeholder:"Email",onChange:e=>i({...u,email:e.target.value})}),l.a.createElement("input",{type:"text",placeholder:"T\xe9l\xe9phone",onChange:e=>i({...u,telephone:e.target.value})}),l.a.createElement("button",{onClick:async()=>{try{const e=await o.a.post("http://localhost:5000/api/candidats",{num_carte_electeur:a,...u});alert("Candidat enregistr\xe9 ! Code de s\xe9curit\xe9 : "+e.data.code_securite)}catch(e){alert("Erreur lors de l'enregistrement")}}},"Enregistrer")))};var u=function(){const[e,t]=Object(n.useState)([]),[a,r]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{try{const e=await o.a.get("http://localhost:5000/api/candidats");t(e.data)}catch(e){r("Erreur lors de la r\xe9cup\xe9ration des candidats.")}})()},[]),l.a.createElement("div",{className:"max-w-5xl mx-auto mt-6"},l.a.createElement("h2",{className:"text-2xl font-semibold text-center mb-6"},"Liste des Candidats"),a&&l.a.createElement("p",{className:"text-red-500 text-center"},a),0===e.length?l.a.createElement("p",{className:"text-center text-gray-500"},"Aucun candidat enregistr\xe9."):l.a.createElement("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6"},e.map(e=>l.a.createElement(s.b,{to:"/candidats/"+e.id,key:e.id,className:"block p-4 bg-white rounded-lg shadow-md hover:shadow-lg transition-all"},l.a.createElement("div",{className:"flex flex-col items-center"},l.a.createElement("img",{src:e.photo||"/default-avatar.png",alt:e.name,className:"w-24 h-24 rounded-full mb-3"}),l.a.createElement("h3",{className:"text-lg font-semibold"},e.nom," ",e.prenom),l.a.createElement("p",{className:"text-gray-500"},e.parti||"Ind\xe9pendant"))))))};var i=function(){const{id:e}=Object(m.r)(),[t,a]=Object(n.useState)(null),[r,c]=Object(n.useState)("");return Object(n.useEffect)(()=>{(async()=>{try{const t=await o.a.get("http://localhost:5000/api/candidats/"+e);a(t.data)}catch(t){c("Erreur lors de la r\xe9cup\xe9ration du candidat.")}})()},[e]),t?l.a.createElement("div",{className:"max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md mt-6"},l.a.createElement("h2",{className:"text-2xl font-semibold text-center mb-4"},"D\xe9tails du Candidat"),l.a.createElement("div",{className:"flex items-center justify-center"},l.a.createElement("img",{src:t.photo||"/default-avatar.png",alt:"Candidat",className:"w-32 h-32 rounded-full mb-4"})),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Nom :")," ",t.nom," ",t.prenom),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Date de Naissance :")," ",t.date_naissance),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Email :")," ",t.email),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"T\xe9l\xe9phone :")," ",t.telephone),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Parti :")," ",t.parti||"Ind\xe9pendant"),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Slogan :")," ",t.slogan),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Couleurs :")," ",t.couleur1,", ",t.couleur2,", ",t.couleur3),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Page info :")," ",l.a.createElement("a",{href:t.url_info,target:"_blank",rel:"noopener noreferrer",className:"text-blue-500 hover:underline"},"Lien")),l.a.createElement("p",{className:"text-lg"},l.a.createElement("strong",null,"Code S\xe9curit\xe9 :")," ",t.code_securite),l.a.createElement("button",{onClick:async()=>{try{c("");const t=await o.a.patch(`http://localhost:5000/api/candidats/${e}/code`);c("Nouveau code g\xe9n\xe9r\xe9 : "+t.data.code_securite)}catch(t){c("Erreur lors de la g\xe9n\xe9ration du code.")}},className:"bg-red-500 text-white px-4 py-2 mt-4 rounded hover:bg-red-700"},"G\xe9n\xe9rer nouveau code"),r&&l.a.createElement("p",{className:"text-green-500 mt-2"},r)):l.a.createElement("div",{className:"text-center mt-6"},"Chargement...")};var g=function(){const[e,t]=Object(n.useState)(""),[a,r]=Object(n.useState)(""),[c,s]=Object(n.useState)(""),[m,o]=Object(n.useState)("");return l.a.createElement("div",{className:"max-w-xl mx-auto p-6 bg-white rounded-lg shadow-md mt-6"},l.a.createElement("h2",{className:"text-2xl font-semibold mb-4 text-center"},"Configurer la P\xe9riode de Parrainage"),l.a.createElement("form",{onSubmit:t=>{t.preventDefault(),s(""),o("");const n=new Date(e),l=new Date(a),r=new Date;n>=l?s("La date de d\xe9but doit \xeatre avant la date de fin."):n<=r?s("La date de d\xe9but doit \xeatre dans le futur (au moins 6 mois apr\xe8s aujourd'hui)."):o(`P\xe9riode de parrainage configur\xe9e du ${e} au ${a}.`)},className:"space-y-4"},l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"startDate",className:"block text-lg"},"Date de d\xe9but :"),l.a.createElement("input",{type:"date",id:"startDate",value:e,onChange:e=>t(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})),l.a.createElement("div",null,l.a.createElement("label",{htmlFor:"endDate",className:"block text-lg"},"Date de fin :"),l.a.createElement("input",{type:"date",id:"endDate",value:a,onChange:e=>r(e.target.value),className:"w-full p-2 border border-gray-300 rounded-lg"})),l.a.createElement("div",{className:"flex justify-between items-center"},l.a.createElement("button",{type:"submit",className:"bg-blue-500 text-white px-6 py-2 rounded-lg hover:bg-blue-700"},"Enregistrer")),c&&l.a.createElement("p",{className:"text-red-500 mt-2"},c),m&&l.a.createElement("p",{className:"text-green-500 mt-2"},m)))};var p=function(){return l.a.createElement(s.a,null,l.a.createElement("nav",{style:{padding:10,borderBottom:"1px solid #ccc"}},l.a.createElement(s.b,{to:"/",style:{marginRight:10}},"Accueil"),l.a.createElement(s.b,{to:"/candidats",style:{marginRight:10}},"Liste des Candidats"),l.a.createElement(s.b,{to:"/candidats/new",style:{marginRight:10}},"Ajouter Candidat"),l.a.createElement(s.b,{to:"/parrainage",style:{marginRight:10}},"Configurer Parrainage")),l.a.createElement(m.c,null,l.a.createElement(m.a,{path:"/",element:l.a.createElement("h1",null,"Bienvenue dans le syst\xe8me de gestion des parrainages")}),l.a.createElement(m.a,{path:"/candidats",element:l.a.createElement(u,null)}),l.a.createElement(m.a,{path:"/candidats/new",element:l.a.createElement(d,null)}),l.a.createElement(m.a,{path:"/candidats/:id",element:l.a.createElement(i,null)}),l.a.createElement(m.a,{path:"/parrainage",element:l.a.createElement(g,null)})))};var E=e=>{e&&e instanceof Function&&a.e(3).then(a.bind(null,29)).then(t=>{let{getCLS:a,getFID:n,getFCP:l,getLCP:r,getTTFB:c}=t;a(e),n(e),l(e),r(e),c(e)})};c.a.createRoot(document.getElementById("root")).render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(p,null))),E()}},[[15,1,2]]]);
//# sourceMappingURL=main.63ac517e.chunk.js.map