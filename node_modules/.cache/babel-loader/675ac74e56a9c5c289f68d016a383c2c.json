{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\bmd tech\\\\Desktop\\\\L3GLSI\\\\AdministrationsdeBD\\\\bdd-2025\\\\src\\\\components\\\\CandidateRegistration.js\";\nimport React, { useState } from 'react';\nimport axios from 'axios';\nfunction CandidateRegistration() {\n  const [step, setStep] = useState(1);\n  const [numCarteElecteur, setNumCarteElecteur] = useState('');\n  const [electeurInfos, setElecteurInfos] = useState(null);\n  const [messageErreur, setMessageErreur] = useState('');\n  const [formData, setFormData] = useState({\n    email: '',\n    telephone: '',\n    parti: '',\n    slogan: '',\n    photo: '',\n    couleur1: '',\n    couleur2: '',\n    couleur3: '',\n    urlInfo: ''\n  });\n  const handleCheckCarte = async () => {\n    try {\n      setMessageErreur('');\n      const response = await axios.get(`http://localhost:5000/api/electeurs/check?num=${numCarteElecteur}`);\n      setElecteurInfos(response.data);\n      setStep(2);\n    } catch (error) {\n      var _error$response, _error$response$data;\n      setMessageErreur(((_error$response = error.response) === null || _error$response === void 0 ? void 0 : (_error$response$data = _error$response.data) === null || _error$response$data === void 0 ? void 0 : _error$response$data.message) || \"Erreur serveur\");\n    }\n  };\n  const handleSubmit = async () => {\n    try {\n      const response = await axios.post('http://localhost:5000/api/candidats', {\n        num_carte_electeur: numCarteElecteur,\n        ...formData\n      });\n      alert(`Candidat enregistré ! Code de sécurité : ${response.data.code_securite}`);\n    } catch (error) {\n      alert(\"Erreur lors de l'enregistrement\");\n    }\n  };\n  return /*#__PURE__*/React.createElement(\"div\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 9\n    }\n  }, step === 1 && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 21\n    }\n  }, \"V\\xE9rification de l'\\xE9lecteur\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"Num\\xE9ro de carte\",\n    value: numCarteElecteur,\n    onChange: e => setNumCarteElecteur(e.target.value),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleCheckCarte,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51,\n      columnNumber: 21\n    }\n  }, \"V\\xE9rifier\"), messageErreur && /*#__PURE__*/React.createElement(\"p\", {\n    style: {\n      color: 'red'\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52,\n      columnNumber: 39\n    }\n  }, messageErreur)), step === 2 && electeurInfos && /*#__PURE__*/React.createElement(React.Fragment, null, /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 58,\n      columnNumber: 21\n    }\n  }, \"Informations de l'\\xE9lecteur\"), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 59,\n      columnNumber: 21\n    }\n  }, \"Nom : \", electeurInfos.nom), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 21\n    }\n  }, \"Pr\\xE9nom : \", electeurInfos.prenom), /*#__PURE__*/React.createElement(\"p\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 21\n    }\n  }, \"Date de Naissance : \", electeurInfos.date_naissance), /*#__PURE__*/React.createElement(\"h2\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63,\n      columnNumber: 21\n    }\n  }, \"Informations suppl\\xE9mentaires\"), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"email\",\n    placeholder: \"Email\",\n    onChange: e => setFormData({\n      ...formData,\n      email: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"input\", {\n    type: \"text\",\n    placeholder: \"T\\xE9l\\xE9phone\",\n    onChange: e => setFormData({\n      ...formData,\n      telephone: e.target.value\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 65,\n      columnNumber: 21\n    }\n  }), /*#__PURE__*/React.createElement(\"button\", {\n    onClick: handleSubmit,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 66,\n      columnNumber: 21\n    }\n  }, \"Enregistrer\")));\n}\nexport default CandidateRegistration;","map":{"version":3,"names":["React","useState","axios","CandidateRegistration","step","setStep","numCarteElecteur","setNumCarteElecteur","electeurInfos","setElecteurInfos","messageErreur","setMessageErreur","formData","setFormData","email","telephone","parti","slogan","photo","couleur1","couleur2","couleur3","urlInfo","handleCheckCarte","response","get","data","error","_error$response","_error$response$data","message","handleSubmit","post","num_carte_electeur","alert","code_securite","createElement","__self","__source","fileName","_jsxFileName","lineNumber","columnNumber","Fragment","type","placeholder","value","onChange","e","target","onClick","style","color","nom","prenom","date_naissance"],"sources":["C:/Users/bmd tech/Desktop/L3GLSI/AdministrationsdeBD/bdd-2025/src/components/CandidateRegistration.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction CandidateRegistration() {\r\n    const [step, setStep] = useState(1);\r\n    const [numCarteElecteur, setNumCarteElecteur] = useState('');\r\n    const [electeurInfos, setElecteurInfos] = useState(null);\r\n    const [messageErreur, setMessageErreur] = useState('');\r\n\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        telephone: '',\r\n        parti: '',\r\n        slogan: '',\r\n        photo: '',\r\n        couleur1: '',\r\n        couleur2: '',\r\n        couleur3: '',\r\n        urlInfo: ''\r\n    });\r\n\r\n    const handleCheckCarte = async () => {\r\n        try {\r\n            setMessageErreur('');\r\n            const response = await axios.get(`http://localhost:5000/api/electeurs/check?num=${numCarteElecteur}`);\r\n            setElecteurInfos(response.data);\r\n            setStep(2);\r\n        } catch (error) {\r\n            setMessageErreur(error.response?.data?.message || \"Erreur serveur\");\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/candidats', {\r\n                num_carte_electeur: numCarteElecteur,\r\n                ...formData\r\n            });\r\n            alert(`Candidat enregistré ! Code de sécurité : ${response.data.code_securite}`);\r\n        } catch (error) {\r\n            alert(\"Erreur lors de l'enregistrement\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {step === 1 && (\r\n                <>\r\n                    <h2>Vérification de l'électeur</h2>\r\n                    <input type=\"text\" placeholder=\"Numéro de carte\" value={numCarteElecteur} onChange={(e) => setNumCarteElecteur(e.target.value)} />\r\n                    <button onClick={handleCheckCarte}>Vérifier</button>\r\n                    {messageErreur && <p style={{ color: 'red' }}>{messageErreur}</p>}\r\n                </>\r\n            )}\r\n\r\n            {step === 2 && electeurInfos && (\r\n                <>\r\n                    <h2>Informations de l'électeur</h2>\r\n                    <p>Nom : {electeurInfos.nom}</p>\r\n                    <p>Prénom : {electeurInfos.prenom}</p>\r\n                    <p>Date de Naissance : {electeurInfos.date_naissance}</p>\r\n\r\n                    <h2>Informations supplémentaires</h2>\r\n                    <input type=\"email\" placeholder=\"Email\" onChange={(e) => setFormData({ ...formData, email: e.target.value })} />\r\n                    <input type=\"text\" placeholder=\"Téléphone\" onChange={(e) => setFormData({ ...formData, telephone: e.target.value })} />\r\n                    <button onClick={handleSubmit}>Enregistrer</button>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CandidateRegistration;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}