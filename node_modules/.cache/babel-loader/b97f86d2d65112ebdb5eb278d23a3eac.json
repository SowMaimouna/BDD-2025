{"ast":null,"code":"import React,{useEffect,useState}from'react';import{useParams}from'react-router-dom';import axios from'axios';function CandidateDetail(){const{id}=useParams();const[candidat,setCandidat]=useState(null);const[message,setMessage]=useState('');useEffect(()=>{const fetchCandidat=async()=>{try{const response=await axios.get(`http://localhost:5000/api/candidats/${id}`);setCandidat(response.data);}catch(err){setMessage(\"Erreur lors de la récupération du candidat.\");}};fetchCandidat();},[id]);const handleRegenerateCode=async()=>{try{setMessage('');const response=await axios.patch(`http://localhost:5000/api/candidats/${id}/code`);setMessage(`Nouveau code généré : ${response.data.code_securite}`);}catch(err){setMessage(\"Erreur lors de la génération du code.\");}};if(!candidat)return/*#__PURE__*/React.createElement(\"div\",{className:\"text-center mt-6\"},\"Chargement...\");return/*#__PURE__*/React.createElement(\"div\",{className:\"max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md mt-6\"},/*#__PURE__*/React.createElement(\"h2\",{className:\"text-2xl font-semibold text-center mb-4\"},\"D\\xE9tails du Candidat\"),/*#__PURE__*/React.createElement(\"div\",{className:\"flex items-center justify-center\"},/*#__PURE__*/React.createElement(\"img\",{src:candidat.photo||\"/default-avatar.png\",alt:\"Candidat\",className:\"w-32 h-32 rounded-full mb-4\"})),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Nom :\"),\" \",candidat.nom,\" \",candidat.prenom),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Date de Naissance :\"),\" \",candidat.date_naissance),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Email :\"),\" \",candidat.email),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"T\\xE9l\\xE9phone :\"),\" \",candidat.telephone),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Parti :\"),\" \",candidat.parti||\"Indépendant\"),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Slogan :\"),\" \",candidat.slogan),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Couleurs :\"),\" \",candidat.couleur1,\", \",candidat.couleur2,\", \",candidat.couleur3),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Page info :\"),\" \",/*#__PURE__*/React.createElement(\"a\",{href:candidat.url_info,target:\"_blank\",rel:\"noopener noreferrer\",className:\"text-blue-500 hover:underline\"},\"Lien\")),/*#__PURE__*/React.createElement(\"p\",{className:\"text-lg\"},/*#__PURE__*/React.createElement(\"strong\",null,\"Code S\\xE9curit\\xE9 :\"),\" \",candidat.code_securite),/*#__PURE__*/React.createElement(\"button\",{onClick:handleRegenerateCode,className:\"bg-red-500 text-white px-4 py-2 mt-4 rounded hover:bg-red-700\"},\"G\\xE9n\\xE9rer nouveau code\"),message&&/*#__PURE__*/React.createElement(\"p\",{className:\"text-green-500 mt-2\"},message));}export default CandidateDetail;","map":{"version":3,"names":["React","useEffect","useState","useParams","axios","CandidateDetail","id","candidat","setCandidat","message","setMessage","fetchCandidat","response","get","data","err","handleRegenerateCode","patch","code_securite","createElement","className","src","photo","alt","nom","prenom","date_naissance","email","telephone","parti","slogan","couleur1","couleur2","couleur3","href","url_info","target","rel","onClick"],"sources":["C:/Users/bmd tech/Desktop/L3GLSI/AdministrationsdeBD/bdd-2025/src/components/CandidateDetail.js"],"sourcesContent":["import React, { useEffect, useState } from 'react';\r\nimport { useParams } from 'react-router-dom';\r\nimport axios from 'axios';\r\n\r\nfunction CandidateDetail() {\r\n    const { id } = useParams();\r\n    const [candidat, setCandidat] = useState(null);\r\n    const [message, setMessage] = useState('');\r\n\r\n    useEffect(() => {\r\n        const fetchCandidat = async () => {\r\n            try {\r\n                const response = await axios.get(`http://localhost:5000/api/candidats/${id}`);\r\n                setCandidat(response.data);\r\n            } catch (err) {\r\n                setMessage(\"Erreur lors de la récupération du candidat.\");\r\n            }\r\n        };\r\n        fetchCandidat();\r\n    }, [id]);\r\n\r\n    const handleRegenerateCode = async () => {\r\n        try {\r\n            setMessage('');\r\n            const response = await axios.patch(`http://localhost:5000/api/candidats/${id}/code`);\r\n            setMessage(`Nouveau code généré : ${response.data.code_securite}`);\r\n        } catch (err) {\r\n            setMessage(\"Erreur lors de la génération du code.\");\r\n        }\r\n    };\r\n\r\n    if (!candidat) return <div className=\"text-center mt-6\">Chargement...</div>;\r\n\r\n    return (\r\n        <div className=\"max-w-3xl mx-auto bg-white p-6 rounded-lg shadow-md mt-6\">\r\n            <h2 className=\"text-2xl font-semibold text-center mb-4\">Détails du Candidat</h2>\r\n            <div className=\"flex items-center justify-center\">\r\n                <img src={candidat.photo || \"/default-avatar.png\"} alt=\"Candidat\" className=\"w-32 h-32 rounded-full mb-4\" />\r\n            </div>\r\n            <p className=\"text-lg\"><strong>Nom :</strong> {candidat.nom} {candidat.prenom}</p>\r\n            <p className=\"text-lg\"><strong>Date de Naissance :</strong> {candidat.date_naissance}</p>\r\n            <p className=\"text-lg\"><strong>Email :</strong> {candidat.email}</p>\r\n            <p className=\"text-lg\"><strong>Téléphone :</strong> {candidat.telephone}</p>\r\n            <p className=\"text-lg\"><strong>Parti :</strong> {candidat.parti || \"Indépendant\"}</p>\r\n            <p className=\"text-lg\"><strong>Slogan :</strong> {candidat.slogan}</p>\r\n            <p className=\"text-lg\"><strong>Couleurs :</strong> {candidat.couleur1}, {candidat.couleur2}, {candidat.couleur3}</p>\r\n            <p className=\"text-lg\"><strong>Page info :</strong> <a href={candidat.url_info} target=\"_blank\" rel=\"noopener noreferrer\" className=\"text-blue-500 hover:underline\">Lien</a></p>\r\n            <p className=\"text-lg\"><strong>Code Sécurité :</strong> {candidat.code_securite}</p>\r\n\r\n            <button onClick={handleRegenerateCode} className=\"bg-red-500 text-white px-4 py-2 mt-4 rounded hover:bg-red-700\">\r\n                Générer nouveau code\r\n            </button>\r\n            {message && <p className=\"text-green-500 mt-2\">{message}</p>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CandidateDetail;\r\n"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAClD,OAASC,SAAS,KAAQ,kBAAkB,CAC5C,MAAO,CAAAC,KAAK,KAAM,OAAO,CAEzB,QAAS,CAAAC,eAAeA,CAAA,CAAG,CACvB,KAAM,CAAEC,EAAG,CAAC,CAAGH,SAAS,CAAC,CAAC,CAC1B,KAAM,CAACI,QAAQ,CAAEC,WAAW,CAAC,CAAGN,QAAQ,CAAC,IAAI,CAAC,CAC9C,KAAM,CAACO,OAAO,CAAEC,UAAU,CAAC,CAAGR,QAAQ,CAAC,EAAE,CAAC,CAE1CD,SAAS,CAAC,IAAM,CACZ,KAAM,CAAAU,aAAa,CAAG,KAAAA,CAAA,GAAY,CAC9B,GAAI,CACA,KAAM,CAAAC,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACS,GAAG,CAAC,uCAAuCP,EAAE,EAAE,CAAC,CAC7EE,WAAW,CAACI,QAAQ,CAACE,IAAI,CAAC,CAC9B,CAAE,MAAOC,GAAG,CAAE,CACVL,UAAU,CAAC,6CAA6C,CAAC,CAC7D,CACJ,CAAC,CACDC,aAAa,CAAC,CAAC,CACnB,CAAC,CAAE,CAACL,EAAE,CAAC,CAAC,CAER,KAAM,CAAAU,oBAAoB,CAAG,KAAAA,CAAA,GAAY,CACrC,GAAI,CACAN,UAAU,CAAC,EAAE,CAAC,CACd,KAAM,CAAAE,QAAQ,CAAG,KAAM,CAAAR,KAAK,CAACa,KAAK,CAAC,uCAAuCX,EAAE,OAAO,CAAC,CACpFI,UAAU,CAAC,yBAAyBE,QAAQ,CAACE,IAAI,CAACI,aAAa,EAAE,CAAC,CACtE,CAAE,MAAOH,GAAG,CAAE,CACVL,UAAU,CAAC,uCAAuC,CAAC,CACvD,CACJ,CAAC,CAED,GAAI,CAACH,QAAQ,CAAE,mBAAOP,KAAA,CAAAmB,aAAA,QAAKC,SAAS,CAAC,kBAAkB,EAAC,eAAkB,CAAC,CAE3E,mBACIpB,KAAA,CAAAmB,aAAA,QAAKC,SAAS,CAAC,0DAA0D,eACrEpB,KAAA,CAAAmB,aAAA,OAAIC,SAAS,CAAC,yCAAyC,EAAC,wBAAuB,CAAC,cAChFpB,KAAA,CAAAmB,aAAA,QAAKC,SAAS,CAAC,kCAAkC,eAC7CpB,KAAA,CAAAmB,aAAA,QAAKE,GAAG,CAAEd,QAAQ,CAACe,KAAK,EAAI,qBAAsB,CAACC,GAAG,CAAC,UAAU,CAACH,SAAS,CAAC,6BAA6B,CAAE,CAC1G,CAAC,cACNpB,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,OAAa,CAAC,IAAC,CAACZ,QAAQ,CAACiB,GAAG,CAAC,GAAC,CAACjB,QAAQ,CAACkB,MAAU,CAAC,cAClFzB,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,qBAA2B,CAAC,IAAC,CAACZ,QAAQ,CAACmB,cAAkB,CAAC,cACzF1B,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,SAAe,CAAC,IAAC,CAACZ,QAAQ,CAACoB,KAAS,CAAC,cACpE3B,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,mBAAmB,CAAC,IAAC,CAACZ,QAAQ,CAACqB,SAAa,CAAC,cAC5E5B,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,SAAe,CAAC,IAAC,CAACZ,QAAQ,CAACsB,KAAK,EAAI,aAAiB,CAAC,cACrF7B,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,UAAgB,CAAC,IAAC,CAACZ,QAAQ,CAACuB,MAAU,CAAC,cACtE9B,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,YAAkB,CAAC,IAAC,CAACZ,QAAQ,CAACwB,QAAQ,CAAC,IAAE,CAACxB,QAAQ,CAACyB,QAAQ,CAAC,IAAE,CAACzB,QAAQ,CAAC0B,QAAY,CAAC,cACpHjC,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,aAAmB,CAAC,IAAC,cAAAnB,KAAA,CAAAmB,aAAA,MAAGe,IAAI,CAAE3B,QAAQ,CAAC4B,QAAS,CAACC,MAAM,CAAC,QAAQ,CAACC,GAAG,CAAC,qBAAqB,CAACjB,SAAS,CAAC,+BAA+B,EAAC,MAAO,CAAI,CAAC,cAChLpB,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,SAAS,eAACpB,KAAA,CAAAmB,aAAA,eAAQ,uBAAuB,CAAC,IAAC,CAACZ,QAAQ,CAACW,aAAiB,CAAC,cAEpFlB,KAAA,CAAAmB,aAAA,WAAQmB,OAAO,CAAEtB,oBAAqB,CAACI,SAAS,CAAC,+DAA+D,EAAC,4BAEzG,CAAC,CACRX,OAAO,eAAIT,KAAA,CAAAmB,aAAA,MAAGC,SAAS,CAAC,qBAAqB,EAAEX,OAAW,CAC1D,CAAC,CAEd,CAEA,cAAe,CAAAJ,eAAe","ignoreList":[]},"metadata":{},"sourceType":"module"}