{"ast":null,"code":"import React,{useState}from'react';import axios from'axios';function CandidateRegistration(){const[step,setStep]=useState(1);const[numCarteElecteur,setNumCarteElecteur]=useState('');const[electeurInfos,setElecteurInfos]=useState(null);const[messageErreur,setMessageErreur]=useState('');const[formData,setFormData]=useState({email:'',telephone:'',parti:'',slogan:'',photo:'',couleur1:'',couleur2:'',couleur3:'',urlInfo:''});const handleCheckCarte=async()=>{try{setMessageErreur('');const response=await axios.get(`http://localhost:5000/api/electeurs/check?num=${numCarteElecteur}`);setElecteurInfos(response.data);setStep(2);}catch(error){var _error$response,_error$response$data;setMessageErreur(((_error$response=error.response)===null||_error$response===void 0?void 0:(_error$response$data=_error$response.data)===null||_error$response$data===void 0?void 0:_error$response$data.message)||\"Erreur serveur\");}};const handleSubmit=async()=>{try{const response=await axios.post('http://localhost:5000/api/candidats',{num_carte_electeur:numCarteElecteur,...formData});alert(`Candidat enregistré ! Code de sécurité : ${response.data.code_securite}`);}catch(error){alert(\"Erreur lors de l'enregistrement\");}};return/*#__PURE__*/React.createElement(\"div\",null,step===1&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"V\\xE9rification de l'\\xE9lecteur\"),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"Num\\xE9ro de carte\",value:numCarteElecteur,onChange:e=>setNumCarteElecteur(e.target.value)}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleCheckCarte},\"V\\xE9rifier\"),messageErreur&&/*#__PURE__*/React.createElement(\"p\",{style:{color:'red'}},messageErreur)),step===2&&electeurInfos&&/*#__PURE__*/React.createElement(React.Fragment,null,/*#__PURE__*/React.createElement(\"h2\",null,\"Informations de l'\\xE9lecteur\"),/*#__PURE__*/React.createElement(\"p\",null,\"Nom : \",electeurInfos.nom),/*#__PURE__*/React.createElement(\"p\",null,\"Pr\\xE9nom : \",electeurInfos.prenom),/*#__PURE__*/React.createElement(\"p\",null,\"Date de Naissance : \",electeurInfos.date_naissance),/*#__PURE__*/React.createElement(\"h2\",null,\"Informations suppl\\xE9mentaires\"),/*#__PURE__*/React.createElement(\"input\",{type:\"email\",placeholder:\"Email\",onChange:e=>setFormData({...formData,email:e.target.value})}),/*#__PURE__*/React.createElement(\"input\",{type:\"text\",placeholder:\"T\\xE9l\\xE9phone\",onChange:e=>setFormData({...formData,telephone:e.target.value})}),/*#__PURE__*/React.createElement(\"button\",{onClick:handleSubmit},\"Enregistrer\")));}export default CandidateRegistration;","map":{"version":3,"names":["React","useState","axios","CandidateRegistration","step","setStep","numCarteElecteur","setNumCarteElecteur","electeurInfos","setElecteurInfos","messageErreur","setMessageErreur","formData","setFormData","email","telephone","parti","slogan","photo","couleur1","couleur2","couleur3","urlInfo","handleCheckCarte","response","get","data","error","_error$response","_error$response$data","message","handleSubmit","post","num_carte_electeur","alert","code_securite","createElement","Fragment","type","placeholder","value","onChange","e","target","onClick","style","color","nom","prenom","date_naissance"],"sources":["C:/Users/bmd tech/Desktop/L3GLSI/AdministrationsdeBD/bdd-2025/src/components/CandidateRegistration.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction CandidateRegistration() {\r\n    const [step, setStep] = useState(1);\r\n    const [numCarteElecteur, setNumCarteElecteur] = useState('');\r\n    const [electeurInfos, setElecteurInfos] = useState(null);\r\n    const [messageErreur, setMessageErreur] = useState('');\r\n\r\n    const [formData, setFormData] = useState({\r\n        email: '',\r\n        telephone: '',\r\n        parti: '',\r\n        slogan: '',\r\n        photo: '',\r\n        couleur1: '',\r\n        couleur2: '',\r\n        couleur3: '',\r\n        urlInfo: ''\r\n    });\r\n\r\n    const handleCheckCarte = async () => {\r\n        try {\r\n            setMessageErreur('');\r\n            const response = await axios.get(`http://localhost:5000/api/electeurs/check?num=${numCarteElecteur}`);\r\n            setElecteurInfos(response.data);\r\n            setStep(2);\r\n        } catch (error) {\r\n            setMessageErreur(error.response?.data?.message || \"Erreur serveur\");\r\n        }\r\n    };\r\n\r\n    const handleSubmit = async () => {\r\n        try {\r\n            const response = await axios.post('http://localhost:5000/api/candidats', {\r\n                num_carte_electeur: numCarteElecteur,\r\n                ...formData\r\n            });\r\n            alert(`Candidat enregistré ! Code de sécurité : ${response.data.code_securite}`);\r\n        } catch (error) {\r\n            alert(\"Erreur lors de l'enregistrement\");\r\n        }\r\n    };\r\n\r\n    return (\r\n        <div>\r\n            {step === 1 && (\r\n                <>\r\n                    <h2>Vérification de l'électeur</h2>\r\n                    <input type=\"text\" placeholder=\"Numéro de carte\" value={numCarteElecteur} onChange={(e) => setNumCarteElecteur(e.target.value)} />\r\n                    <button onClick={handleCheckCarte}>Vérifier</button>\r\n                    {messageErreur && <p style={{ color: 'red' }}>{messageErreur}</p>}\r\n                </>\r\n            )}\r\n\r\n            {step === 2 && electeurInfos && (\r\n                <>\r\n                    <h2>Informations de l'électeur</h2>\r\n                    <p>Nom : {electeurInfos.nom}</p>\r\n                    <p>Prénom : {electeurInfos.prenom}</p>\r\n                    <p>Date de Naissance : {electeurInfos.date_naissance}</p>\r\n\r\n                    <h2>Informations supplémentaires</h2>\r\n                    <input type=\"email\" placeholder=\"Email\" onChange={(e) => setFormData({ ...formData, email: e.target.value })} />\r\n                    <input type=\"text\" placeholder=\"Téléphone\" onChange={(e) => setFormData({ ...formData, telephone: e.target.value })} />\r\n                    <button onClick={handleSubmit}>Enregistrer</button>\r\n                </>\r\n            )}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default CandidateRegistration;\r\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module"}